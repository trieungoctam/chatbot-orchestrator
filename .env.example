# ü§ñ Enhanced Chat Bot Backend - Environment Configuration
# Version 2.0.0 - Redis + PostgreSQL Edition

# ========================================
# üñ•Ô∏è SERVER CONFIGURATION
# ========================================
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=false
ENVIRONMENT=production

# ========================================
# üîê AUTHENTICATION TOKENS
# ========================================
# Main API token for Pancake client
PANCAKE_ACCESS_TOKEN=your-secure-pancake-token-here-min-32-chars

# Admin token for management APIs
ADMIN_ACCESS_TOKEN=your-secure-admin-token-here-min-32-chars

# ========================================
# üóÑÔ∏è DATABASE CONFIGURATION - PostgreSQL
# ========================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=enhanced_chatbot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-postgres-password-here

# ========================================
# üî¥ REDIS CONFIGURATION
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
# Optional: Set password for Redis AUTH
# REDIS_PASSWORD=your-redis-password-here

# ========================================
# ü§ñ AI SERVICE CONFIGURATION
# ========================================
AI_SERVICE_URL=http://ai-service:8001
AI_SERVICE_TIMEOUT=30
AI_MODEL_PROVIDER=openai
AI_MODEL_NAME=gpt-4
AI_API_KEY=your-ai-api-key-here

# ========================================
# ü•û PANCAKE CLIENT CONFIGURATION
# ========================================
PANCAKE_BASE_URL=http://pancake:8000
PANCAKE_TIMEOUT=10

# ========================================
# üìä LOGGING CONFIGURATION
# ========================================
LOG_LEVEL=INFO
LOG_JSON=true
LOG_FILE=/app/logs/backend.log

# ========================================
# üîß SYSTEM TUNING
# ========================================
# Race condition handling
MAX_CONVERSATION_AGE_HOURS=24
AI_PROCESSING_TIMEOUT=30
MAX_RETRY_ATTEMPTS=3

# Memory management
MAX_CONTEXT_SIZE=100
CLEANUP_INTERVAL_HOURS=6

# Redis TTL settings (seconds)
CONVERSATION_STATE_TTL=86400
PROCESSING_LOCK_TTL=30

# Database connection pool
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ========================================
# üåê CORS CONFIGURATION
# ========================================
CORS_ORIGINS=*
# For production, specify allowed origins:
# CORS_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com